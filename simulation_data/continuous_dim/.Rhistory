pivot_longer(cols = -index, names_to = "variables", values_to = "value")%>%
select(-index) %>%
group_by(variables, value) %>%
tally() %>%
mutate(total = sum(n)) %>%
ungroup() %>%
mutate(pct = n/total)
df_graph <- ggplot(df_ods_long, aes(x = value, y = pct, fill = data)) +
geom_bar(position = "dodge", stat = "identity") +
facet_nested_wrap(variables ~ type, scales = "free", labeller = labeller(.cols = label_both), ncol = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_graph <- ggplot(df_ods_long, aes(x = value, y = pct, fill = data)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_graph <- ggplot(df_ods_long, aes(x = value, y = pct)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_sds <- data.frame()
epochs = c(10, 20, 30)
for (r in rows) {
for (c in cols) {
sds <- read.csv(paste0(original_data,"ods_rows_",r,"_cols_",c,"_epochs_",e,".csv"))
sds$epochs = e
df_sds <- rbind(df_sds, sds)
}
}
df_sds <- data.frame()
epochs = c(10, 20, 30)
for (r in rows) {
for (c in cols) {
for (e in epochs) {
sds <- read.csv(paste0(original_data,"ods_rows_",r,"_cols_",c,"_epochs_",e,".csv"))
sds$epochs = e
df_sds <- rbind(df_sds, sds)
}
}
}
df_sds <- data.frame()
epochs = c(10, 20, 30)
for (r in rows) {
for (c in cols) {
for (e in epochs) {
sds <- read.csv(paste0(original_data,"sds_ctgan_rows_",r,"_cols_",c,"_epochs_",e,".csv"))
sds$epochs = e
df_sds <- rbind(df_sds, sds)
}
}
}
df_sds <- data.frame()
epochs = c(10, 20, 30)
for (r in rows) {
for (c in cols) {
for (e in epochs) {
sds <- read.csv(paste0(original_data,"sds_ctgan_rows_",r,"_cols_",c,"_n_1_epochs_",e,".csv"))
sds$epochs = e
df_sds <- rbind(df_sds, sds)
}
}
}
sds <- read.csv(paste0(synthetic_data,"sds_ctgan_rows_",r,"_cols_",c,"_n_1_epochs_",e,".csv"))
for (r in rows) {
for (c in cols) {
for (e in epochs) {
sds <- read.csv(paste0(synthetic_data,"sds_ctgan_rows_",r,"_cols_",c,"_n_1_epochs_",e,".csv"))
sds$epochs = e
df_sds <- rbind(df_sds, sds)
}
}
}
df_sds_long <- df_sds_binned %>%
pivot_longer(cols = "epochs", names_to = "variables", values_to = "value")%>%
group_by(variables, value, epochs) %>%
tally() %>%
mutate(total = sum(n)) %>%
ungroup() %>%
mutate(pct = n/total)
# convert continuous variables to bins
continuous_vars <- sapply(df_sds, function(x) is.numeric(x))
continuous_var_names <- names(df_sds[continuous_vars])
df_sds_binned <- df_sds
for (col_name in continuous_var_names) {
bins <- seq(min(df_sds_binned[[col_name]]), max(df_sds_binned[[col_name]]), length.out = 21) # 21 points to get 20 bins
df_sds_binned[[col_name]] <- cut(df_sds_binned[[col_name]], breaks = bins, include.lowest = TRUE)
}
df_sds_long <- df_sds_binned %>%
pivot_longer(cols = "epochs", names_to = "variables", values_to = "value")%>%
group_by(variables, value, epochs) %>%
tally() %>%
mutate(total = sum(n)) %>%
ungroup() %>%
mutate(pct = n/total)
df_sds_binned$epochs <- df_sds$epochs
df_sds_long <- df_sds_binned %>%
pivot_longer(cols = "epochs", names_to = "variables", values_to = "value")
View(df_sds_long)
df_sds_long <- df_sds_binned %>%
pivot_longer(cols = epochs, names_to = "variables", values_to = "value")
df_sds_long <- df_sds_binned %>%
pivot_longer(cols = !epochs, names_to = "variables", values_to = "value")
df_sds_long <- df_sds_binned %>%
pivot_longer(cols = !epochs, names_to = "variables", values_to = "value") %>%
group_by(variables, value, epochs) %>%
tally() %>%
mutate(total = sum(n)) %>%
ungroup() %>%
mutate(pct = n/total)
# Graph
df_graph <- ggplot(df_ods_long, aes(x = value, y = pct)) +
geom_bar(position = "dodge", stat = "identity") +
geom_line(df_ods_long, aes(x = value, y = pct, color=epochs)) +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
# Graph
df_graph <- ggplot(df_ods_long, aes(x = value, y = pct)) +
geom_bar(position = "dodge", stat = "identity") +
geom_line(df_sds_long, aes(x = value, y = pct, color=epochs)) +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
# Graph
df_graph <- ggplot(df_ods_long, aes(x = value, y = pct)) +
geom_bar(position = "dodge", stat = "identity") +
geom_line(df_sds_long, aes(x = value, y = pct, color=epochs), size = 1) +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs)) +
geom_bar(size = 1) +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs)) +
geom_bar(linewidth = 1) +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs)) +
geom_line(linewidth = 1) +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_sds_long <- df_sds_binned %>%
pivot_longer(cols = !epochs, names_to = "variables", values_to = "value") %>%
group_by(variables, value, epochs) %>%
tally() %>%
mutate(total = sum(n)) %>%
ungroup() %>%
mutate(pct = n/total,
epochs = as.factor(epochs))
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs)) +
geom_line(linewidth = 1) +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_sds_long
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs)) +
geom_point() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs)) +
geom_line() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_point() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_line() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, fill = epochs, group = epochs)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
View(df_sds_long)
geom_point
geom_point
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_point() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_line() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_long <- df_ods_binned
df_long$epochs <- "Original"
df_long <- rbind(df_long, df_sds_binned)
# Graph
df_graph <- ggplot(df_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_line() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_long <- df_ods_long
df_long$epochs <- "Original"
df_long <- rbind(df_long, df_sds_long)
# Graph
df_graph <- ggplot(df_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_line() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_long, aes(x = value, y = pct, fill = epochs, group = epochs)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
df_long$data <- fct_relevel(df_long$data, "Original")
# Graph
df_graph <- ggplot(df_long, aes(x = value, y = pct, fill = epochs, group = epochs)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_long$epochs <- fct_relevel(df_long$epochs, "Original")
# Graph
df_graph <- ggplot(df_long, aes(x = value, y = pct, fill = epochs, group = epochs)) +
geom_bar(position = "dodge", stat = "identity") +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
# Graph
df_graph <- ggplot(df_sds_long, aes(x = value, y = pct, color = epochs, group = epochs)) +
geom_line() +
facet_wrap( ~ variables, scales = "free", labeller = labeller(.cols = label_both), nrow = 2) +
xlab("") +
ylab("") +
theme_bw() +
guides(colour = guide_legend(nrow = 1)) +
theme(panel.grid.minor = element_blank(),
legend.position = "bottom",
legend.key.width=unit(1, "cm"),
axis.text.x = element_text(angle = 45, hjust = 1),
axis.line.y = element_line(color="black", linewidth=.5),
axis.line.x = element_line(color="black", linewidth=.5)
)
df_graph
